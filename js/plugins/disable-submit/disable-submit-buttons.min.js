$.fn.extend({ _disableSubmitButtonSelector: ':input[type="submit"]', disableSubmitButtons: function () { $(this).find(this._disableSubmitButtonSelector).attr("disabled", "disabled"), $(this).find(this._disableSubmitButtonSelector + "[data-disabled-text]").each(function () { var t = $(this); "input" === t.prop("tagName").toLowerCase() ? (t.data("enabled-text", t.val()), t.val(t.data("disabled-text"))) : (t.data("enabled-text", t.html()), t.html(t.data("disabled-text"))) }) }, enableSubmitButtons: function () { $(this).find(this._disableSubmitButtonSelector).removeAttr("disabled"), $(this).find(this._disableSubmitButtonSelector + "[data-disabled-text]").each(function () { var t = $(this); "input" === t.prop("tagName").toLowerCase() ? t.val(t.data("enabled-text")) : t.html(t.data("enabled-text")) }) } }), $("form.disable-submit-buttons").on("beforeValidate", function (t) { $(".modal-dialog").find(".btn-warning")[0].disabled = !0, $("#loading").css("display", "block"), $(this).disableSubmitButtons() }).on("afterValidate", function (t, e, a) { 0 != a.length && ($("#loading").css("display", "none"), $(this).enableSubmitButtons()) }).on("ajaxComplete", function () { $("#loading").css("display", "none"), $(this).enableSubmitButtons() });